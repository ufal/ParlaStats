<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>ParalStats tutorilas</title>
		<link rel="stylesheet" href="styles/form.css"/>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
		<link rel="stylesheet" href="styles/tabs.css">
		<link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.dataTables.css">
		<link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.0.1/css/buttons.dataTables.min.css">
		<link rel="stylesheet" href="styles/collapsible.css">
		<link rel="stylesheet" href="styles/UI.css">
		<link rel="stylesheet" href="styles/tabs.css">
		
		<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
		<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		<script type="module" src="scripts/translations.js" defer></script>
		<script src="scripts/tutorials.js" defer></script>
		
	</head>
	<body>
		<nav class="nav-extended">
			<div class="nav-wrapper">
				<a href="#" class="brand-logo center">ParlaStats</a>
				<ul id="nav-mobile" class="left-hide-on-med_and_down">
					<li><a id="home-page" href="landing_page.html">Home</a></li>
					<li><a id="dynamic-form" href="dynamic_form.html">Tools</a></li>
					<li><a id="tutorials" href="tutorials.html">Tutorial</a></li>
					<li><a id="github" href="https://github.com/ufal/ParlaStats">GitHub</a></li>
				</ul>
			</div>
		</nav>
		<div class="container">
			<div class="row">
				<div class="col s12">
					<ul class="tabs">
						<li id="form-toggle" class="tab col s6"><a href="#from-tutorial" class="active">Making a Query</a></li>
						<li id="res-toggle" class="tab col s6"><a href="#res-tutorial">Viewing results</a></li>
					</ul>
				</div>
			</div>
		</div>	
		<div id="form-tutorial" class="col s12 active">
			<div class="zig-zag-container left">
				<div id="getting-started" class="textdiv">
					<h2>Getting started</h2>
					<p class="common-text">
						To begin querying the data, click the "Tools" tab in the menu. This will open a form where you can build your query, submit it and view its results.
					</p>
					<p class="common-text">
						Start by selecting the database (=corpus) in the "Target Databases" section. Click the `+` button to choose from the available options - you can select
						multiple corpora and the results will be shown separately for each one.
					</p>
					<p class="common-text">
						When querying ParCzech alongside certain parlaMint coprora, be aware that some features specific to ParCzech, such as those related to audio recordings, 
						may not be supported in ParlaMint.
					</p>
					<p>
						At the bottom of each query header, there is a description input. There you can specify a brief, short description of the query that would help to interpret
						the results of the query. This section is also used as a title of the graph when viewing results.
					</p>
				</div>
				<div class="image-placeholder">
					<img src="image/getting_started1.png" alt="Tools tab location" class="image-box">
					<p class="image-description">Tools location</p>
			
					<img src="image/getting_started2.png" alt="Initial form" class="image-box" style="width:70em; height:30em;">
					<p class="image-description">Initial form</p>
				</div>
			</div>
			<div class="zig-zag-container right">
				<div id="first-steps" class="textdiv">
					<h2>First steps</h2>
					<p class="common-text">
						When designing the querying system, we had to consider the backend database technology to ensure that
						both parts work well together. This led to the step-based structure of the queries.
						To build your own query, clcik the '+' button under the "Steps" heading to add a step. Each step
						contains several sections, which are explained below.
					</p>
					<p class="common-text">
						At the top of each step, you'll see the columns (attributes) it returns, indicated by an arrow (->).
						If you've named your step, the format will be: "your_step_name" -> "returned_columns". If a step becomes lengthy,
						you can collapse it by clicking on the preview of the returned columns.
					</p>
					<h4>Step Name</h4>
					<p class="common-text">
						This field defines the name of the step. If your query contains multiple steps, the step name helps
						distinguish between them and allow you to reference results from ine step in another.
					</p>
					<h4>Columns</h4>
					<p class="common-text">
						Select the data you want to retrieve from the database, such as the number of words in speeches, speaker information (e.g., name, birthdate)
						or political affiliations.
					</p>
					<h4>Group By</h4>
					<p class="common-text">
						Define how you want the results to be grouped, for example, by year, election term or other attributes.
					</p>
					<h4>Order By</h4>
					<p class="common-text">
						Specify how the results should be sorted, typically by a numeric value chosen in the "Columns" section.
					</p>
					<h4>Conditions</h4>
					<p class="common-text">
						Apply filters to narrow down the results. You can, for instance, filter by election term, specific speakers or organizations
						or define ranges for numerical values.
					</p>
					<h4>Limit</h4>
					<p class="common-text">
						Set the maximum number of rows to return from this step.
					</p>
				</div>
				<div class="image-placeholder">
					<img src="image/blank_step.png" alt="Blank step" class="image-box" style="width:auto; height:auto;">
					<p class="image-description">Blank step</p>
				</div>
			</div>
			<div class="zig-zag-container left">
				<div id="columns" class="textdiv">
					<h2>Columns</h2>
					<p class="common-text">
						In this section, you can choose the data you're interested in from the selected corpora.
						We refer to these data as columns as that's how they are stored in the underlying database,
						each option you see corresponds to a column in the backend.
					</p>
					<p class="common-text">
						You can also apply aggregation functions such as sum, average, maximum, minimum or count to the values in a selected column.
					</p>
					<p class="common-text">
						Additionaly, you can assign a custom name to any column using the "Alias" field. This alias can then be used in subsequent
						steps when referencing the column.
					</p>
					<p class="common-text">
						To add more columns, click the '+' button; to remove one, click the '-' button.
					</p>
				</div>
				<div class="image-placeholder">
					<img src="image/columnSelection.png" alt="Column selection" class="image-box" style="width:70%; height:70%;">
					<p class="image-description">Column selection</p>
				</div>
			</div>
			<div class="zig-zag-container right">
				<div id="group-by" class="textdiv">
					<h2>Group By</h2>
					<p class="common-text">
						In this section, you can choose the columsn by which the results should be grouped.
						You may either select new columns or reuse those previously defined in the "Columns" section.
					</p>
				</div>
				<div class="image-placeholder">
					<img src="image/groupBySection.png" alt="Group by section" class="image-box" style="width:70%; height:70%;">
					<p class=image-description>Group By Section</p>
				</div>
			</div>
			<div class="zig-zag-container left">
				<div id="order-by" class="textdiv">
					<h2>Order By</h2>
					<p class="common-text">
						Here you can define how the results should be sorted. If you choose a textual column, the sorting will follow alphabetical order.
						When sorting by multiple columns, the order is applied top to bottom, for example if you first sort by speaker name and then by year,
						the results will be grouped alphabetically by speaker name and within each group sorted by a year.
					</p>
					<p class="common-text">
						You can specify whether each column should be sorted in ascending or descending order.
					</p>
					<p class="common-text">
						After running your query, if you're not satisfied with the initial sort, you can still reorder the results directly in the table.
					</p>
				</div>
				<div class="image-placeholder">
					<img src="image/orderBySection.png" alt="Order by section" class="image-box" style="width:50%; height:50%;">
					<p class="image-description" style="width:40em;">Order By Section</p>
					<img src="image/resultTableOrdering.png" alt="Results ordering options" class="image-box" style="width:auto; height:auto;">
					<p class="image-description">Results ordering</p>
				
				</div>
			</div>
			<div class="zig-zag-container right">
				<div id="conditions" class="textdiv">
					<h2>Conditions</h2>
					<p class="common-text">
						Use this section to filter the results based on column values.					
					</p>
					<p class="common-text">
						For example, you can specify a time range, focus on a particular election term or filter by specific speakers or organizations.
					</p>
					<p class="common-text">
						Each condition consitis of a column, and operator (e.g., equals, greater than) and a value. The value can either be typed manually or selected
						form another column, depending on the context.
					</p>
				</div>
				<div class="image-placeholder">
					<img src="image/conditionSection.png" alt="Conditions section" class="image-box" style="width:70%; height:70%;">
					<p class="image-description">Conditions Section</p>
				</div>
			</div>
		</div>
		<div id="res-tutorial" class="col s12">
			<div class="zig-zag-container right">
				<div id="visualization-general" class="textdiv">
					<h2>Visualizing the results</h2>
					<p class="common-text">
						You have two options for visualizing your query results: table or graph(s). By default, results are displayed in a table.
						You can switch to graph view (or back) using the results navigation bar.
					</p>
				</div>
				<div class="image-placeholder">
					<img src="image/table_navbar.png" alt="Results navigation bar" class="image-box" style="width:70%; height:70%;">
					<p class="image-description">Results navigation bar</p>
				</div>
			</div>
			<div class="zig-zag-container left">
				<div id="visualization-tables" class="textdiv">
					<h2>Table visualization</h2>
					<p class="common-text">
						The table displays your query results as rows. If your result table contains more than 20 rows, you can
						scroll through the table to view them all. You can also sort the data by any column, search for specific values
						within the table and export the results as a CSV file. If your query targets multiple corpora, a separate table
						will be generated for each one.
					</p>
				</div>
				<div>
					<img src="image/table_description.png" alt="Results table" class="image-box" style="width:70%; height:70%;">
					<p class="image-description">Table produced by sample query 13</p>
				</div>
			</div>
			<div class="zig-zag-container left">
				<div id="visualization-graphs" class="textdiv">
					<h2>Graph visualization</h2>
					<p class="common-text">
						Currently, you can view your results using two chart types: bar chart and line chart.
						A key aspect of graph generation is how labels are determined -- if a column is selected in both the <b>"Columns"</b>
						and <b>"Group By"</b> sections, it is treated as a label for the graph. If multiple columns are selected,
						their values are combined (concatenated) to form the full label.
					</p>
					<p class="common-text">
						Numeric columns selected in the "Columns" section are treated as values - these define the height of bars in bar charts
						or the position of points in line charts. If you include a non-numeric column in the "Columns" section,
						its values will appear in the legend, helping to distinguish between different lines or bars.
					</p>
					<p class="common-text">
					To better understand how this works, check out the screenshots provided below and try experimenting with the <a href="dynamic_form.html">sample queries</a>, for instance,
						Sample 16 which is used in the screenshots. They are available under the "Sample queries" tab available under the "Tools" tab in the top level menu.
					</p>
					<h4>Example 1</h4>
					<p class="common-text">
						In this example, the graph is generated from a query where the organization name is selected in both the
						"Columns" and "Group By" sections. As a result, it is used as the x-axis label.
					</p>
					<p class="common-text">
					The election term, a non-numeric column selected in the <b>"Columns" section</b>, appears in the legend, helping to describe each bar.
						The height of the bar is determined by the numeric column total speeches, which provides the actual data values shown in  the chart.
					</p>
					<h4>Example 2</h4>
					<p class="common-text">
						In this example, the organization name and election term have switched roles. The election term is now selected in both the <b>"Columns"</b>
						and <b>"Group By"</b> sections, so it serves as the x-axis label.
					</p>
					<p class="common-text">
						Meanwhile, the organization name, now selected in the <b>"Columns"</b> section, appears in the legend, distinguishing the bars within each election term group.
						As a result, the bars are now grouped by election term instead of organization.
					</p>
					<h4>Example 3</h4>
					<p class="common-text">
						In somoe cases, you may want to group results by a column that isn't included in the "Columns" section.
						For example, suppose you're interested in finding the top 10 male speakers who have given the most speeches.
						Each speaker has a unique identifier, which may be based on their name but could also be a technical or unintuitive string.
						To make the results more readable you should: select the speaker's name and surname in the <b>"Columns"</b> section, adn group by
						the speaker's unique identifier. This way, the query groups data correctly while still displaying clear and meaningful names in the output.
					</p>
					<h4>Interacting with the graph</h4>
					<p class="common-text">
						You can zoom in and out of the graph using your mouse wheel. The zoom focuses on the area around your cursor position. To make the graph
						clearer or focus on specific data, you can also hide or show individual values by clicking on items in the legend above the graph.
					</p>
				</div>
				<div>
					<img src="image/graph_example_var1.png" alt="Graph example variation 1" class="image-box" style="width:80%; height:80%;">
					<p class="image-description">Example 1</p>
				
					<img src="image/graph_example_var2.png" alt="Graph example variation 2" class="image-box" style="width:80%; height:80%;">
					<p class="image-description">Example 2</p>

					<img src="image/graph_example_var3.png" alt="Graph example variation 3" class="image-box" style="width:80%; height:80%;">
					<p class="image-description">Example 3</p>
					
					<img src="image/popup_legend.png" alt="Popup graph legend" class="image-box" style="width:80%; height:80%;">
					<p class="image-description">Pop-up graph legend</p>
				</div>
			</div>
		</div>
		<script>
			document.addEventListener('DOMContentLoaded', function() {
				var elems = document.querySelectorAll('.tabs');
				M.Tabs.init(elems);

			});
		</script>
	</body>
</html>
