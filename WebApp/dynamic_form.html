<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic JSON Form</title>
    <link rel="stylesheet" href="styles/form.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">	
	<link rel="stylesheet" href="styles/tabs.css"> 
	<link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.dataTables.css"/>
	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.0.1/css/buttons.dataTables.min.css" rel="stylesheet"/>
	<link rel="stylesheet" href="styles/tables.css">
	<link rel="stylesheet" href="styles/graphs.css">
	<!-- Rendering scripts -->
	<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
	<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
	<script type="module" src="scripts/dynamic_form_render.js" defer></script>
	<script type="module" src="scripts/metaInformation.js" defer></script>
	<script type="module" src="scripts/stored_data_worker.js" defer></script>
	<script type="module" src="scripts/translations.js" defer></script>
	<script type="module" src="scripts/artificialColumns.js" defer></script>	
	<script type="module" src="scripts/rendering_utilities.js" defer></script>
	
	<!-- Styling scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	
	<!-- Results visualization scripts -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>	
	<script src="https://cdn.datatables.net/2.2.2/js/dataTables.js"></script>
	<script src="https://cdn.datatables.net/buttons/3.0.1/js/dataTables.buttons.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/3.0.1/js/buttons.html5.min.js"></script>
	<script type="module" src="scripts/visualization_scrpits/visualize_as_tables.js" defer></script>
	
	<!-- Charts -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.9/dist/chart.umd.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.2.0/dist/chartjs-plugin-zoom.min.js"></script>
		
</head>
<body>
	
	<nav>
		<div class="nav-wrapper #26a69a">
			<a href="#" class="brand-logo center">ParlaStats statistical tool</a>
			<ul id="nav-mobile" class="left-hide-on-med-and-down">
				<li><a href="#input">Manual Query</a></li>
				<li><a href="#form">Query Form</a></li>
				<li><a href="#output">Query Preview</a></li>
				<li><a href="#result">Results</a></li>
			</ul>
		</div>
	</nav>
	<div class="content">
		<div class="container">
			<div class="row">
				<div class="col s12">
					<ul class="tabs">
						<li class="tab col s4"><a href="#input">Manual Query</a></li>
						<li class="tab col s4"><a href="#form">Query Form</a></li>
						<li class="tab col s4"><a href="#output">Query Preview</a></li>
					</ul>
				</div>
			</div>
			<div id="input" class="col s12">
				<div class="input-field">
					<h5 id="inputJSONtitle">Manual Query</h5>
					<textarea id="inputJSON" placeholder="Paste input JSON query here"></textarea>
					<label for="inputJSONtitle">Input JSON</label>
					<!-- <button id="loadButton" type="button">Load Query</button> -->
				</div>
				<a class="waves-effect waves-light btn" id="loadButton">Load Query</a>
			</div>
			<div id="form" class="col s12">
				<h5>Query Form</h5>
				<a class="waves-effect waves-light btn" id="sendQueryButton">Send Query</a>
				<div id="formContainer"></div>
			</div>
			<div id="output" class="col s12">
				<div class="input-field">
					<h5 id="outputJSONtitle">Query Preview</h5>
					<textarea id="outputJSON" placeholder="Generated JSON query"></textarea>
					<label for="outputJSON">Query Preview</label>
					<!-- <button id="generateButton" type="button">Generate Query</button> -->
				</div>
				<a class="waves-effect waves-light btn" id="generateButton">Generate Query</a>
			</div>
		</div>
		<div class="container" id="results">
			
			<div class="row">
				<div class="col s12">
					<ul class="tabs">
						<li class="tab col s6"><a href="#table">Results Table</a></li>
						<li class="tab col s6"><a href="#graph">Results Graph</a></li>
					</ul>
				</div>
			</div>
			
			<div id="table" class="col s12">
				<h5>Results Tables</h5>
				<div id="results-table-wrapper"></div>
			</div>
			<div id="graph" class="col s12">
				<h5>Results Graph</h5>
				<div id="results-graph-wrapper"></div>
				
				<div class="row">
					<div class="col s12">
						<ul class="tabs">
							<li class="tab col s6">
								<a id="bar-button" class="waves-effect waves-dark btn">
									Bar Chart
								</a>
							</li>
							<li class="tab col s6">
								<a id="line-button" class="waves-effect waves-dark btn">
									Line Chart
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			var elems = document.querySelectorAll('.tabs');
			M.Tabs.init(elems);
		});
	</script>
	
</body>
</html>
