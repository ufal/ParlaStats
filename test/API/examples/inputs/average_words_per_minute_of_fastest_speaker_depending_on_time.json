{
	"target_databases":["parczech4_0"],
	"description":"Evolution of speaking pace of the fastest speaker over time of the day.",
	"steps":[
		{
			"goal":"get_fastest_speaker",
			"columns":["person.person_id"],
			"aggregation": {
				"group_by":["person.person_id"],
				"order_by":[
					{
						"column": {
							"real":"(speech.token_count / (speech.total_duration / 60000))",
							"agg_func":"AVG"
						},
						"direction":"DESC"
					}
				]
			},
			"filtering": {
				
				"conditions":[
					{
						"column":"speech.total_duration",
						"operator":">=",
						"value":"60000"
					}
				]
			},
			"limit":"1"

		},
		{
			"goal":"main",
			"columns":[
				"speech.earliest_timestamp", 
				{
					"real":"(speech.token_count / (speech.total_duration / 60000))",
					"alias":"average_wpm",
					"agg_func":"AVG"
				}
			],
			"aggregation": {
				"group_by":["person.person_id", "speech.earliest_timestamp"],
				"order_by":[
					{
						"column":"speech.earliest_timestamp",
						"direction":"ASC"
					}
				]
			},
			"filtering": {
				"conditions": [
					{
						"column":"speech.total_duration",
						"operator":">=",
						"value":"60000"
					},
					{
						"column":"person.person_id",
						"operator":"=",
						"value":"step_result/get_fastest_speaker/speech.person_id"
					}
				]
			},
			"limit":""
		}
	]
}
